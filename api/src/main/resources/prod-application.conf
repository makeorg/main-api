include "default-application.conf"

akka.http.parsing.illegal-header-warnings = off
akka.debug.lifecycle = off
akka.debug.log-sent-messages = off

make-api {
  authorized-cors-uri: [
    "http://localhost:9009",
    "http://localhost:4242",
    "http://localhost:3000",
    "https://www.prod.makeorg.tech",
    "https://bo.prod.makeorg.tech",
    "https://widget.prod.makeorg.tech",
    "https://make.org",
    "https://www.make.org",
    "https://bo.make.org",
    "https://www.bo.make.org",
    "https://widget.make.org"
  ]

  cookie-session {
    is-secure = true
  }

  cookie-visitor {
    is-secure = true
  }

  default-admin {
    first-name: "admin"
    first-name: ${?APP_ADMIN_DEFAULT_FIRST_NAME}
    email: "admin@make.org"
    email: ${?APP_ADMIN_DEFAULT_EMAIL}
    password: ${?APP_ADMIN_DEFAULT_PASSWORD}
  }

  database {
    migration {
      init-schema = false
    }
  }

  dev {
    # This environment is static, which means it already has data and doesn't need fixtures
    environment-type = "static"
  }

  http {
    ssl = true
  }

  mail-jet {
    templates {

      front-url = "https://www.make.org"

      registration {
        template-id = "222475"
        core {
          template-id = "222475"
          FR {
            template-id = "222475"
          }
          GB {
            template-id = "313889"
          }
          IT {
            template-id = "313891"
          }
        }
        vff {
          template-id = "228774"
          FR {
            template-id = "228774"
          }
          GB {
            template-id = "313889"
          }
          IT {
            template-id = "313891"
          }
        }
        climatparis {
          template-id = "283873"
        }
        lpae {
          template-id = "308026"
        }
        mieux-vivre-ensemble {
          template-id = "315234"
        }
        chance-aux-jeunes {
          template-id = "345554"
        }
        culture {
          template-id = "410407"
        }
        aines {
          template-id = "535928"
        }
        politique-huffpost {
          template-id = "525340"
        }
        economie-huffpost {
          template-id = "525340"
        }
        international-huffpost {
          template-id = "525340"
        }
        culture-huffpost {
          template-id = "525340"
        }
        ecologie-huffpost {
          template-id = "525340"
        }
        societe-huffpost {
          template-id = "525340"
        }
        education-huffpost {
          template-id = "525340"
        }
        plan-climat {
          template-id = "566688"
        }
        european-digital-champions {
          template-id = "560731"
          FR {
            template-id = "560731"
          }
          DE {
            template-id = "561108"
          }
        }
        villededemain {
          template-id = "566685"
        }
      }

      welcome {
        template-id = "235705"
        core {
          template-id = "235705"
          FR {
            template-id = "235705"
          }
          GB {
            template-id = "313893"
          }
          IT {
            template-id = "313894"
          }
        }
        vff {
          template-id = "240419"
          FR {
            template-id = "240419"
          }
          GB {
            template-id = "313893"
          }
          IT {
            template-id = "313894"
          }
        }
        climatparis {
          template-id = "283898"
        }
        lpae {
          template-id = "308028"
        }
        mieux-vivre-ensemble {
          template-id = "315229"
        }
        chance-aux-jeunes {
          template-id = "345551"
        }
        culture {
          template-id = "410413"
        }
        aines {
          template-id = "535932"
        }
        politique-huffpost {
          template-id = "525235"
        }
        economie-huffpost {
          template-id = "525235"
        }
        international-huffpost {
          template-id = "525235"
        }
        culture-huffpost {
          template-id = "525235"
        }
        ecologie-huffpost {
          template-id = "525235"
        }
        societe-huffpost {
          template-id = "525235"
        }
        education-huffpost {
          template-id = "525235"
        }
        plan-climat {
          template-id = "561028"
        }
        european-digital-champions {
          template-id = "561028"
          FR {
            template-id = "561028"
          }
          DE {
            template-id = "561102"
          }
        }
        villededemain {
          template-id = "561028"
        }
      }

      resend-validation-link {
        template-id = "224889"
      }

      forgotten-password {
        template-id = "191459"
        FR {
          template-id = "191459"
        }
        GB {
          template-id = "313903"
        }
        IT {
          template-id = "313904"
        }
        DE {
          template-id = "561111"
        }
      }

      proposal-refused {
        template-id = "222555"
        FR {
          template-id = "222555"
        }
        GB {
          template-id = "313899"
        }
        IT {
          template-id = "313901"
        }
        organisation {
          template-id = "393224"
        }
        politique-huffpost {
          template-id = "525342"
        }
        economie-huffpost {
          template-id = "525342"
        }
        international-huffpost {
          template-id = "525342"
        }
        culture-huffpost {
          template-id = "525342"
        }
        ecologie-huffpost {
          template-id = "525342"
        }
        societe-huffpost {
          template-id = "525342"
        }
        education-huffpost {
          template-id = "525342"
        }
        plan-climat {
          template-id = "561034"
        }
        european-digital-champions {
          template-id = "561034"
          FR {
            template-id = "561034"
          }
          DE {
            template-id = "561098"
          }
        }
        villededemain {
          template-id = "561034"
        }
      }

      proposal-accepted {
        template-id = "222512"
        FR {
          template-id = "222512"
        }
        GB {
          template-id = "313897"
        }
        IT {
          template-id = "313898"
        }
        organisation {
          template-id = "393225"
        }
        politique-huffpost {
          template-id = "525346"
        }
        economie-huffpost {
          template-id = "525346"
        }
        international-huffpost {
          template-id = "525346"
        }
        culture-huffpost {
          template-id = "525346"
        }
        ecologie-huffpost {
          template-id = "525346"
        }
        societe-huffpost {
          template-id = "525346"
        }
        education-huffpost {
          template-id = "525346"
        }
        plan-climat {
          template-id = "561039"
        }
        european-digital-champions {
          template-id = "561039"
          FR {
            template-id = "561039"
          }
          DE {
            template-id = "561091"
          }
        }
        villededemain {
          template-id = "561039"
        }
      }
    }

    user-list {
      hard-bounce-list-id = "1708500"
      hard-bounce-list-id = ${?MAILJET_HARD_BOUNCE_LIST_ID}
      unsubscribe-list-id = "1708501"
      unsubscribe-list-id = ${?MAILJET_UNSUB_LIST_ID}
      opt-in-list-id = "1708499"
      opt-in-list-id = ${?MAILJET_OPTIN_LIST_ID}
      batch-size = 250
      batch-size = ${?MAILJET_USER_LIST_BATCH_SIZE}
    }


  }

  secrets-configuration-path = "/var/run/secrets/make-api.conf"

  storage {
    base-url = "https://assets.prod.makeorg.tech/assets"
  }
}

cassandra-journal {
  contact-points = []
  contact-points += ${?CASSANDRA_0}
  contact-points += ${?CASSANDRA_1}
  contact-points += ${?CASSANDRA_2}
  contact-points += ${?CASSANDRA_3}
  contact-points += ${?CASSANDRA_4}

  port = ${?CASSANDRA_PORT}
  keyspace = ${?CASSANDRA_KEYSPACE}
  replication-strategy = ${?CASSANDRA_REPLICATION_STRATEGY}
}

cassandra-snapshot-store {
  contact-points = []
  contact-points += ${?CASSANDRA_0}
  contact-points += ${?CASSANDRA_1}
  contact-points += ${?CASSANDRA_2}
  contact-points += ${?CASSANDRA_3}
  contact-points += ${?CASSANDRA_4}

  port = ${?CASSANDRA_PORT}
  keyspace = ${?CASSANDRA_KEYSPACE}
  replication-strategy = ${?CASSANDRA_REPLICATION_STRATEGY}
}