{
   "type":"record",
   "name":"UserEventWrapper",
   "namespace":"org.make.api.userhistory",
   "fields":[
      {
         "name":"version",
         "type":"int"
      },
      {
         "name":"id",
         "type":"string"
      },
      {
         "name":"date",
         "type":"string"
      },
      {
         "name":"eventType",
         "type":"string"
      },
      {
         "name":"event",
         "type":[
            {
               "type":"record",
               "name":"PersonalityRegisteredEvent",
               "fields":[
                  {
                     "name":"connectedUserId",
                     "type":[
                        "null",
                        {
                           "type":"record",
                           "name":"UserId",
                           "namespace":"org.make.core.user",
                           "fields":[
                              {
                                 "name":"value",
                                 "type":"string"
                              }
                           ]
                        }
                     ],
                     "default":null
                  },
                  {
                     "name":"eventDate",
                     "type":"string",
                     "default":"2017-11-01T09:00Z"
                  },
                  {
                     "name":"userId",
                     "type":"org.make.core.user.UserId"
                  },
                  {
                     "name":"requestContext",
                     "type":{
                        "type":"record",
                        "name":"RequestContext",
                        "namespace":"org.make.core",
                        "fields":[
                           {
                              "name":"currentTheme",
                              "type":[
                                 "null",
                                 {
                                    "type":"record",
                                    "name":"ThemeId",
                                    "namespace":"org.make.core.reference",
                                    "fields":[
                                       {
                                          "name":"value",
                                          "type":"string"
                                       }
                                    ]
                                 }
                              ]
                           },
                           {
                              "name":"userId",
                              "type":[
                                 "null",
                                 "org.make.core.user.UserId"
                              ],
                              "default":null
                           },
                           {
                              "name":"requestId",
                              "type":"string"
                           },
                           {
                              "name":"sessionId",
                              "type":{
                                 "type":"record",
                                 "name":"SessionId",
                                 "namespace":"org.make.core.session",
                                 "fields":[
                                    {
                                       "name":"value",
                                       "type":"string"
                                    }
                                 ]
                              }
                           },
                           {
                              "name":"visitorId",
                              "type":[
                                 "null",
                                 {
                                    "type":"record",
                                    "name":"VisitorId",
                                    "namespace":"org.make.core.session",
                                    "fields":[
                                       {
                                          "name":"value",
                                          "type":"string"
                                       }
                                    ]
                                 }
                              ],
                              "default":null
                           },
                           {
                              "name":"visitorCreatedAt",
                              "type":[
                                 "null",
                                 "string"
                              ],
                              "default":null
                           },
                           {
                              "name":"externalId",
                              "type":"string"
                           },
                           {
                              "name":"country",
                              "type":[
                                 "null",
                                 "string"
                              ]
                           },
                           {
                              "name":"detectedCountry",
                              "type":[
                                 "null",
                                 "string"
                              ],
                              "default":null
                           },
                           {
                              "name":"language",
                              "type":[
                                 "null",
                                 "string"
                              ]
                           },
                           {
                              "name":"operationId",
                              "type":[
                                 "null",
                                 {
                                    "type":"record",
                                    "name":"OperationId",
                                    "namespace":"org.make.core.operation",
                                    "fields":[
                                       {
                                          "name":"value",
                                          "type":"string"
                                       }
                                    ]
                                 }
                              ],
                              "default":null
                           },
                           {
                              "name":"source",
                              "type":[
                                 "null",
                                 "string"
                              ]
                           },
                           {
                              "name":"location",
                              "type":[
                                 "null",
                                 "string"
                              ]
                           },
                           {
                              "name":"question",
                              "type":[
                                 "null",
                                 "string"
                              ]
                           },
                           {
                              "name":"hostname",
                              "type":[
                                 "null",
                                 "string"
                              ],
                              "default":null
                           },
                           {
                              "name":"ipAddress",
                              "type":[
                                 "null",
                                 "string"
                              ],
                              "default":null
                           },
                           {
                              "name":"getParameters",
                              "type":[
                                 "null",
                                 {
                                    "type":"map",
                                    "values":"string"
                                 }
                              ],
                              "default":null
                           },
                           {
                              "name":"userAgent",
                              "type":[
                                 "null",
                                 "string"
                              ],
                              "default":null
                           },
                           {
                              "name":"questionId",
                              "type":[
                                 "null",
                                 {
                                    "type":"record",
                                    "name":"QuestionId",
                                    "namespace":"org.make.core.question",
                                    "fields":[
                                       {
                                          "name":"value",
                                          "type":"string"
                                       }
                                    ]
                                 }
                              ],
                              "default":null
                           },
                           {
                              "name":"applicationName",
                              "type":[
                                 "null",
                                 "string"
                              ],
                              "default":null
                           },
                           {
                              "name":"referrer",
                              "type":[
                                 "null",
                                 "string"
                              ],
                              "default":null
                           },
                           {
                              "name":"customData",
                              "type":{
                                 "type":"map",
                                 "values":"string"
                              },
                              "default":{

                              }
                           }
                        ]
                     }
                  },
                  {
                     "name":"email",
                     "type":"string"
                  },
                  {
                     "name":"country",
                     "type":"string",
                     "default":"FR"
                  },
                  {
                     "name":"language",
                     "type":"string",
                     "default":"fr"
                  }
               ]
            },
            {
               "type":"record",
               "name":"PersonalityEmailChangedEvent",
               "fields":[
                  {
                     "name":"connectedUserId",
                     "type":[
                        "null",
                        "org.make.core.user.UserId"
                     ],
                     "default":null
                  },
                  {
                     "name":"eventDate",
                     "type":"string",
                     "default":"2017-11-01T09:00Z"
                  },
                  {
                     "name":"userId",
                     "type":"org.make.core.user.UserId"
                  },
                  {
                     "name":"requestContext",
                     "type":"org.make.core.RequestContext"
                  },
                  {
                     "name":"country",
                     "type":"string",
                     "default":"FR"
                  },
                  {
                     "name":"language",
                     "type":"string",
                     "default":"fr"
                  },
                  {
                     "name":"oldEmail",
                     "type":"string"
                  },
                  {
                     "name":"newEmail",
                     "type":"string"
                  }
               ]
            },
            {
               "type":"record",
               "name":"ResetPasswordEvent",
               "fields":[
                  {
                     "name":"connectedUserId",
                     "type":[
                        "null",
                        "org.make.core.user.UserId"
                     ],
                     "default":null
                  },
                  {
                     "name":"eventDate",
                     "type":"string",
                     "default":"2017-11-01T09:00Z"
                  },
                  {
                     "name":"userId",
                     "type":"org.make.core.user.UserId"
                  },
                  {
                     "name":"country",
                     "type":"string",
                     "default":"FR"
                  },
                  {
                     "name":"language",
                     "type":"string",
                     "default":"fr"
                  },
                  {
                     "name":"requestContext",
                     "type":"org.make.core.RequestContext"
                  }
               ]
            },
            {
               "type":"record",
               "name":"ResendValidationEmailEvent",
               "fields":[
                  {
                     "name":"connectedUserId",
                     "type":[
                        "null",
                        "org.make.core.user.UserId"
                     ],
                     "default":null
                  },
                  {
                     "name":"eventDate",
                     "type":"string",
                     "default":"2017-11-01T09:00Z"
                  },
                  {
                     "name":"userId",
                     "type":"org.make.core.user.UserId"
                  },
                  {
                     "name":"country",
                     "type":"string",
                     "default":"FR"
                  },
                  {
                     "name":"language",
                     "type":"string",
                     "default":"fr"
                  },
                  {
                     "name":"requestContext",
                     "type":"org.make.core.RequestContext"
                  }
               ]
            },
            {
               "type":"record",
               "name":"UserRegisteredEvent",
               "fields":[
                  {
                     "name":"connectedUserId",
                     "type":[
                        "null",
                        "org.make.core.user.UserId"
                     ],
                     "default":null
                  },
                  {
                     "name":"eventDate",
                     "type":"string",
                     "default":"2017-11-01T09:00Z"
                  },
                  {
                     "name":"userId",
                     "type":"org.make.core.user.UserId"
                  },
                  {
                     "name":"requestContext",
                     "type":"org.make.core.RequestContext"
                  },
                  {
                     "name":"email",
                     "type":"string"
                  },
                  {
                     "name":"firstName",
                     "type":[
                        "null",
                        "string"
                     ]
                  },
                  {
                     "name":"lastName",
                     "type":[
                        "null",
                        "string"
                     ]
                  },
                  {
                     "name":"profession",
                     "type":[
                        "null",
                        "string"
                     ]
                  },
                  {
                     "name":"dateOfBirth",
                     "type":[
                        "null",
                        "string"
                     ]
                  },
                  {
                     "name":"postalCode",
                     "type":[
                        "null",
                        "string"
                     ]
                  },
                  {
                     "name":"gender",
                     "type":[
                        "null",
                        "string"
                     ],
                     "default":null
                  },
                  {
                     "name":"socioProfessionalCategory",
                     "type":[
                        "null",
                        "string"
                     ],
                     "default":null
                  },
                  {
                     "name":"country",
                     "type":"string",
                     "default":"FR"
                  },
                  {
                     "name":"language",
                     "type":"string",
                     "default":"fr"
                  },
                  {
                     "name":"isSocialLogin",
                     "type":"boolean",
                     "default":false
                  },
                  {
                     "name":"registerQuestionId",
                     "type":[
                        "null",
                        "org.make.core.question.QuestionId"
                     ],
                     "default":null
                  },
                  {
                     "name":"optInPartner",
                     "type":[
                        "null",
                        "boolean"
                     ],
                     "default":null
                  }
               ]
            },
            {
               "type":"record",
               "name":"UserConnectedEvent",
               "fields":[
                  {
                     "name":"connectedUserId",
                     "type":[
                        "null",
                        "org.make.core.user.UserId"
                     ],
                     "default":null
                  },
                  {
                     "name":"eventDate",
                     "type":"string",
                     "default":"2017-11-01T09:00Z"
                  },
                  {
                     "name":"userId",
                     "type":"org.make.core.user.UserId"
                  },
                  {
                     "name":"country",
                     "type":"string",
                     "default":"FR"
                  },
                  {
                     "name":"language",
                     "type":"string",
                     "default":"fr"
                  },
                  {
                     "name":"requestContext",
                     "type":"org.make.core.RequestContext"
                  }
               ]
            },
            {
               "type":"record",
               "name":"UserUpdatedTagEvent",
               "fields":[
                  {
                     "name":"connectedUserId",
                     "type":[
                        "null",
                        "org.make.core.user.UserId"
                     ],
                     "default":null
                  },
                  {
                     "name":"eventDate",
                     "type":"string",
                     "default":"2017-11-01T09:00Z"
                  },
                  {
                     "name":"userId",
                     "type":"org.make.core.user.UserId",
                     "default":{
                        "value":""
                     }
                  },
                  {
                     "name":"country",
                     "type":"string",
                     "default":"FR"
                  },
                  {
                     "name":"language",
                     "type":"string",
                     "default":"fr"
                  },
                  {
                     "name":"requestContext",
                     "type":"org.make.core.RequestContext",
                     "default":{
                        "requestId":"",
                        "sessionId":{
                           "value":""
                        },
                        "externalId":"",
                        "customData":{

                        }
                     }
                  },
                  {
                     "name":"oldTag",
                     "type":"string"
                  },
                  {
                     "name":"newTag",
                     "type":"string"
                  }
               ]
            },
            {
               "type":"record",
               "name":"UserValidatedAccountEvent",
               "fields":[
                  {
                     "name":"connectedUserId",
                     "type":[
                        "null",
                        "org.make.core.user.UserId"
                     ],
                     "default":null
                  },
                  {
                     "name":"eventDate",
                     "type":"string",
                     "default":"2017-11-01T09:00Z"
                  },
                  {
                     "name":"userId",
                     "type":"org.make.core.user.UserId",
                     "default":{
                        "value":""
                     }
                  },
                  {
                     "name":"country",
                     "type":"string",
                     "default":"FR"
                  },
                  {
                     "name":"language",
                     "type":"string",
                     "default":"fr"
                  },
                  {
                     "name":"requestContext",
                     "type":"org.make.core.RequestContext",
                     "default":{
                        "requestId":"",
                        "sessionId":{
                           "value":""
                        },
                        "externalId":"",
                        "customData":{

                        }
                     }
                  },
                  {
                     "name":"isSocialLogin",
                     "type":"boolean",
                     "default":false
                  }
               ]
            },
            {
               "type":"record",
               "name":"OrganisationRegisteredEvent",
               "fields":[
                  {
                     "name":"connectedUserId",
                     "type":[
                        "null",
                        "org.make.core.user.UserId"
                     ],
                     "default":null
                  },
                  {
                     "name":"eventDate",
                     "type":"string",
                     "default":"2017-11-01T09:00Z"
                  },
                  {
                     "name":"userId",
                     "type":"org.make.core.user.UserId"
                  },
                  {
                     "name":"requestContext",
                     "type":"org.make.core.RequestContext"
                  },
                  {
                     "name":"email",
                     "type":"string"
                  },
                  {
                     "name":"country",
                     "type":"string",
                     "default":"FR"
                  },
                  {
                     "name":"language",
                     "type":"string",
                     "default":"fr"
                  }
               ]
            },
            {
               "type":"record",
               "name":"OrganisationUpdatedEvent",
               "fields":[
                  {
                     "name":"connectedUserId",
                     "type":[
                        "null",
                        "org.make.core.user.UserId"
                     ],
                     "default":null
                  },
                  {
                     "name":"eventDate",
                     "type":"string",
                     "default":"2017-11-01T09:00Z"
                  },
                  {
                     "name":"userId",
                     "type":"org.make.core.user.UserId"
                  },
                  {
                     "name":"requestContext",
                     "type":"org.make.core.RequestContext"
                  },
                  {
                     "name":"country",
                     "type":"string",
                     "default":"FR"
                  },
                  {
                     "name":"language",
                     "type":"string",
                     "default":"fr"
                  }
               ]
            },
            {
               "type":"record",
               "name":"OrganisationInitializationEvent",
               "fields":[
                  {
                     "name":"connectedUserId",
                     "type":[
                        "null",
                        "org.make.core.user.UserId"
                     ],
                     "default":null
                  },
                  {
                     "name":"eventDate",
                     "type":"string",
                     "default":"2017-11-01T09:00Z"
                  },
                  {
                     "name":"userId",
                     "type":"org.make.core.user.UserId"
                  },
                  {
                     "name":"requestContext",
                     "type":"org.make.core.RequestContext"
                  },
                  {
                     "name":"country",
                     "type":"string",
                     "default":"FR"
                  },
                  {
                     "name":"language",
                     "type":"string",
                     "default":"fr"
                  }
               ]
            },
            {
               "type":"record",
               "name":"UserUpdatedOptInNewsletterEvent",
               "fields":[
                  {
                     "name":"connectedUserId",
                     "type":[
                        "null",
                        "org.make.core.user.UserId"
                     ],
                     "default":null
                  },
                  {
                     "name":"eventDate",
                     "type":"string",
                     "default":"2017-11-01T09:00Z"
                  },
                  {
                     "name":"userId",
                     "type":"org.make.core.user.UserId"
                  },
                  {
                     "name":"requestContext",
                     "type":"org.make.core.RequestContext"
                  },
                  {
                     "name":"country",
                     "type":"string",
                     "default":"FR"
                  },
                  {
                     "name":"language",
                     "type":"string",
                     "default":"fr"
                  },
                  {
                     "name":"optInNewsletter",
                     "type":"boolean"
                  }
               ]
            },
            {
               "type":"record",
               "name":"UserAnonymizedEvent",
               "fields":[
                  {
                     "name":"connectedUserId",
                     "type":[
                        "null",
                        "org.make.core.user.UserId"
                     ],
                     "default":null
                  },
                  {
                     "name":"eventDate",
                     "type":"string",
                     "default":"2017-11-01T09:00Z"
                  },
                  {
                     "name":"userId",
                     "type":"org.make.core.user.UserId"
                  },
                  {
                     "name":"requestContext",
                     "type":"org.make.core.RequestContext"
                  },
                  {
                     "name":"country",
                     "type":"string",
                     "default":"FR"
                  },
                  {
                     "name":"language",
                     "type":"string",
                     "default":"fr"
                  },
                  {
                     "name":"adminId",
                     "type":"org.make.core.user.UserId"
                  }
               ]
            },
            {
               "type":"record",
               "name":"UserFollowEvent",
               "fields":[
                  {
                     "name":"connectedUserId",
                     "type":[
                        "null",
                        "org.make.core.user.UserId"
                     ],
                     "default":null
                  },
                  {
                     "name":"eventDate",
                     "type":"string",
                     "default":"2017-11-01T09:00Z"
                  },
                  {
                     "name":"userId",
                     "type":"org.make.core.user.UserId"
                  },
                  {
                     "name":"requestContext",
                     "type":"org.make.core.RequestContext"
                  },
                  {
                     "name":"country",
                     "type":"string",
                     "default":"FR"
                  },
                  {
                     "name":"language",
                     "type":"string",
                     "default":"fr"
                  },
                  {
                     "name":"followedUserId",
                     "type":"org.make.core.user.UserId"
                  }
               ]
            },
            {
               "type":"record",
               "name":"UserUnfollowEvent",
               "fields":[
                  {
                     "name":"connectedUserId",
                     "type":[
                        "null",
                        "org.make.core.user.UserId"
                     ],
                     "default":null
                  },
                  {
                     "name":"eventDate",
                     "type":"string",
                     "default":"2017-11-01T09:00Z"
                  },
                  {
                     "name":"userId",
                     "type":"org.make.core.user.UserId"
                  },
                  {
                     "name":"requestContext",
                     "type":"org.make.core.RequestContext"
                  },
                  {
                     "name":"country",
                     "type":"string",
                     "default":"FR"
                  },
                  {
                     "name":"language",
                     "type":"string",
                     "default":"fr"
                  },
                  {
                     "name":"unfollowedUserId",
                     "type":"org.make.core.user.UserId"
                  }
               ]
            },
            {
               "type":"record",
               "name":"UserUploadAvatarEvent",
               "fields":[
                  {
                     "name":"connectedUserId",
                     "type":[
                        "null",
                        "org.make.core.user.UserId"
                     ],
                     "default":null
                  },
                  {
                     "name":"eventDate",
                     "type":"string",
                     "default":"2017-11-01T09:00Z"
                  },
                  {
                     "name":"userId",
                     "type":"org.make.core.user.UserId"
                  },
                  {
                     "name":"requestContext",
                     "type":"org.make.core.RequestContext"
                  },
                  {
                     "name":"country",
                     "type":"string",
                     "default":"FR"
                  },
                  {
                     "name":"language",
                     "type":"string",
                     "default":"fr"
                  },
                  {
                     "name":"avatarUrl",
                     "type":"string"
                  }
               ]
            },
            {
               "type":"record",
               "name":"OrganisationEmailChangedEvent",
               "fields":[
                  {
                     "name":"connectedUserId",
                     "type":[
                        "null",
                        "org.make.core.user.UserId"
                     ],
                     "default":null
                  },
                  {
                     "name":"eventDate",
                     "type":"string",
                     "default":"2017-11-01T09:00Z"
                  },
                  {
                     "name":"userId",
                     "type":"org.make.core.user.UserId"
                  },
                  {
                     "name":"requestContext",
                     "type":"org.make.core.RequestContext"
                  },
                  {
                     "name":"country",
                     "type":"string",
                     "default":"FR"
                  },
                  {
                     "name":"language",
                     "type":"string",
                     "default":"fr"
                  },
                  {
                     "name":"oldEmail",
                     "type":"string"
                  },
                  {
                     "name":"newEmail",
                     "type":"string"
                  }
               ]
            }
         ]
      }
   ]
}